import{c as o,d as g,e as u}from"/build/_shared/chunk-MFPRU5OA.js";var i=o(g(),1),e=o(u(),1),h=()=>[{title:"New Remix App"},{name:"description",content:"Welcome to Remix!"}];function l(){let[r,m]=(0,i.useState)(null),[a,n]=(0,i.useState)(null),[p,s]=(0,i.useState)(!1);return(0,e.jsxs)("div",{className:"font-sans p-4",children:[(0,e.jsx)("h1",{className:"text-3xl",children:"Welcome to Remix"}),(0,e.jsx)("button",{onClick:()=>{s(!0),n(null);let c=new AbortController,d=setTimeout(()=>c.abort(),1e4);fetch("http://api.weatherstack.com/current?access_key=2b64ad3ae744a7dd04c28224f3e5d41f&query=Taipei&units=m",{signal:c.signal}).then(t=>{if(!t.ok)throw new Error("Network response was not ok");return t.json()}).then(t=>m(t)).catch(t=>{t.name==="AbortError"?n("Request timed out"):t.message==="Failed to fetch"?n("Network error, please try again later."):n(t.message)}).finally(()=>{s(!1),clearTimeout(d)})},children:"Fetch Weather"}),p?(0,e.jsx)("div",{className:"spinner",children:"Loading..."}):a?(0,e.jsxs)("p",{children:["Error: ",a]}):r?(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{children:"Weather Data:"}),(0,e.jsxs)("p",{children:["Location: ",r.location.name,", ",r.location.country]}),(0,e.jsxs)("p",{children:["Temperature: ",r.current.temperature,"\xB0C"]}),(0,e.jsxs)("p",{children:["Weather: ",r.current.weather_descriptions.join(", ")]}),(0,e.jsx)("img",{src:r.current.weather_icons[0],alt:"Weather icon"})]}):(0,e.jsx)("p",{children:"No data available"})]})}export{l as default,h as meta};
